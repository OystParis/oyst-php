{
    "name": "API",
    "apiVersion": "v1",
    "description": "Oyst API",
    "operations": {
        "NotifyImport": {
            "httpMethod": "POST",
            "uri": "import",
            "summary": "Notify worker to start import catalog"
        },
        "PostProducts": {
            "httpMethod": "POST",
            "uri": "products",
            "summary": "Send products",
            "parameters": {
                "products": {
                    "location": "postField",
                    "type": "array",
                    "description": "Products to send",
                    "required": true
                }
            }
        },
        "SendPayment": {
            "httpMethod": "POST",
            "uri": "payments",
            "summary": "Send payment",
            "parameters": {
                "user": {
                    "location": "json",
                    "type": "array",
                    "description": "The user who's paying",
                    "required": true
                },
                "order_id": {
                    "location": "json",
                    "type": "string",
                    "description": "The id of the order to process payment",
                    "required": true
                },
                "is_3d": {
                    "location": "json",
                    "type": "boolean",
                    "description": "3D Secure payment",
                    "required": true
                },
                "amount": {
                    "location": "json",
                    "type": "array",
                    "description": "Total amount of the order",
                    "required": true
                },
                "notification_url": {
                    "location": "json",
                    "type": "string",
                    "description": "Url to call to change order status asynchronously",
                    "required": true
                },
                "redirects": {
                    "location": "json",
                    "type": "array",
                    "description": "Urls of redirection",
                    "required": true
                }
            }
        },
        "GetOrderList": {
            "httpMethod": "GET",
            "uri": "",
            "summary": "Get order list (paginated)",
            "parameters": {
                "page": {
                    "location": "query",
                    "type": "string",
                    "description": "The page number to view the list",
                    "required": false
                },
                "perPage": {
                    "location": "query",
                    "type": "string",
                    "description": "The total of orders by page",
                    "required": false
                },
                "status": {
                    "location": "query",
                    "type": "array",
                    "description": "The statuses on which to filter",
                    "required": false
                }
            }
        },
        "GetOrder": {
            "httpMethod": "GET",
            "uri": "orders/{id}",
            "summary": "Get an order",
            "parameters": {
                "products": {
                    "location": "uri",
                    "type": "string",
                    "description": "The order id",
                    "required": true
                }
            }
        },
        "AuthorizeOrder": {
            "httpMethod": "POST",
            "uri": "orders/authorize",
            "summary": "Check if an order can be processed",
            "parameters": {
                "product_reference": {
                    "location": "postField",
                    "type": "string",
                    "description": "The reference of the ordered product",
                    "required": true
                },
                "sku_reference": {
                    "location": "postField",
                    "type": "string",
                    "description": "The sku reference of the ordered product",
                    "required": true
                },
                "quantity": {
                    "location": "postField",
                    "type": "string",
                    "description": "The quantity of the ordered product",
                    "required": true
                },
                "user": {
                    "location": "postField",
                    "type": "object",
                    "description": "The user who ordered the product",
                    "required": false
                }
            }
        }
    }
}
